import{p as s,t as p,a as i}from"./productsFromLocalStorge-YXCgFgxb.js";const y=(l,o,a)=>{const u=document.querySelector(`#card${o}`).querySelector(".quantity");let e=parseInt(u.innerText);l.target.className==="add"&&(e<a?e+=1:e===a&&(e=a)),l.target.className==="minus"&&e>1&&(e-=1),u.innerText=e,e=e};s();const m=(l,o,a)=>{let c=s();const u=document.querySelector(`#card${o}`);let e=u.querySelector(".quantity").innerText,r=u.querySelector(".discounted-price").innerText;r=r.replace("₹","");let n=c.find(t=>t.id===o);if(console.log(n),n&&e>n.quantity){console.log(e),e=Number(e),r=Number(r*e);let t={id:o,quantity:e,productPrice:r};t=c.map(d=>d.id===o?t:d),localStorage.setItem("All_Products",JSON.stringify(t)),alert("Added in your cart")}if(n&&n.quantity>e&&alert("You have already added this product in your cart"),n)return!1;r=Number(r),e=Number(e),r=r*e,console.log(r),c.push({id:o,quantity:e,productPrice:r}),localStorage.setItem("All_Products",JSON.stringify(c)),console.log(c),p(c)};let q=document.querySelector(".product-container"),S=document.querySelector(".product-template");i.forEach(l=>{if(!i)return!1;const{id:o,name:a,brand:c,description:u,price:e,stock:r,image:n}=l,t=document.importNode(S.content,!0);t.querySelector("#card").setAttribute("id",`card${o}`),t.querySelector(".product-name").textContent=a,t.querySelector(".product-image").src=n,t.querySelector(".product-description").textContent=u,t.querySelector(".discounted-price").textContent=`₹${e}`,t.querySelector(".actual-price").textContent=`₹${e*3}`,t.querySelector(".stock-quantity").textContent=r,t.querySelector(".products-box").addEventListener("click",d=>{y(d,o,e)}),t.querySelector(".add-cart-product").addEventListener("click",d=>{m(d,o)}),q.append(t)});
