import{p as s,a as S}from"./productsFromLocalStorge-YXCgFgxb.js";const p=()=>{let n=s(),r=document.querySelector(".amount"),i=document.querySelector(".total-discount"),a=document.querySelector(".del-charges"),d=document.querySelector(".total-amount"),t,l,c;t=n.reduce((o,e)=>o+e.productPrice,0),r.innerText=`₹${t}`,l=t*10/100,i.innerText=`₹${l}`,t>5e3?a.innerText="Free Delivery":a.innerText="₹100",(a.innerText="Free Delivery")?c=0:c=100,d.innerText=`₹${t-l+c}`},g=(n,r)=>{let i=s();if(n.target.className==="item-remove-btn"){let t=n.target.parentElement.parentElement,l=t.getAttribute("id");i=i.filter(c=>`card${c.id}`!=l),localStorage.setItem("All_Products",JSON.stringify(i)),t.remove()}let a=document.querySelector(".item-num");a.innerText=i.length,p()},f=(n,r,i,a)=>{const d=document.querySelector(`#card${r}`);let t=d.querySelector(".quantity"),l=d.querySelector(".price"),c=s(),o=c.find(u=>u.id===r),e=parseInt(t.innerText),m=S.find(u=>{if(u.id===r)return u.price});if(n.target.className==="add"&&(console.log(r),e<i?e+=1:e===i&&(e=i)),n.target.className==="minus"&&e>1&&(e-=1),t.innerText=e,l.innerText=`₹${e*m.price}`,e=e,m=m,o&&(n.target.className==="add"||n.target.className==="minus")){t=Number(t.innerText),m=e*m.price;let u={id:r,quantity:t,productPrice:m};u=c.map(q=>q.id===r?u:q),localStorage.setItem("All_Products",JSON.stringify(u))}p()};let y=s();console.log(y);let x=S.filter(n=>y.find(r=>r.id===n.id)),T=document.querySelector(".item-template"),v=document.querySelector(".item-area-div");const N=()=>{x.forEach(n=>{const{id:r,image:i,name:a,stock:d}=n;let t,l=1,c=y.find(e=>{if(e.id===r)return t=e.productPrice,l=e.quantity,{price:t,quantity:l}});const o=document.importNode(T.content,!0);o.querySelector(".item-box").setAttribute("id",`card${r}`),o.querySelector(".item-name").textContent=a,o.querySelector(".item-image").src=i,o.querySelector(".quantity").innerText=c.quantity,o.querySelector(".price").innerText=`₹${c.productPrice}`,o.querySelector(".item-quantity").addEventListener("click",e=>{f(e,r,d)}),o.querySelector(".item-box").addEventListener("click",(e,m)=>{g(e)}),v.append(o)}),p()};N();
